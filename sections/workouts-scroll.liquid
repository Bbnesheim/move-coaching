{{ 'section-workouts-scroll.css' | asset_url | stylesheet_tag }}
{{ 'section-workouts-scroll.js' | asset_url | script_tag }}

<section
  id="WorkoutsScroll-{{ section.id }}"
  class="section workouts-scroll move-workouts-scroll color-{{ section.settings.color_scheme }} gradient"
  data-workouts-scroll
  style="
    --workouts-scroll-scroll-height: {{ section.settings.scroll_height }}vh;
    --workouts-scroll-min-scale: {{ section.settings.min_scale | divided_by: 100.0 }};
    --workouts-scroll-start-radius: {{ section.settings.start_radius }}px;
  "
>
  <div class="workouts-scroll__sticky">
    <div class="workouts-scroll__media" aria-hidden="true">
      <div class="workouts-scroll__frame">
        {%- if section.settings.video != blank -%}
          {{
            section.settings.video
            | video_tag:
              autoplay: true,
              loop: true,
              muted: true,
              controls: false,
              playsinline: true,
              class: 'workouts-scroll__video'
          }}
        {%- elsif section.settings.image != blank -%}
          {{
            section.settings.image
            | image_url: width: 2400
            | image_tag:
              widths: '750, 1100, 1500, 2000, 2400',
              sizes: '100vw',
              class: 'workouts-scroll__image',
              loading: 'eager'
          }}
        {%- else -%}
          {{ 'lifestyle-1' | placeholder_svg_tag: 'placeholder-svg workouts-scroll__placeholder' }}
        {%- endif -%}
      </div>

      <div class="workouts-scroll__headlines" aria-hidden="true">
        {%- if section.settings.top_heading_line_1 != blank or section.settings.top_heading_line_2 != blank -%}
          <div class="workouts-scroll__headline workouts-scroll__headline--top {{ section.settings.heading_size }}">
            {%- if section.settings.top_heading_line_1 != blank -%}
              <span class="workouts-scroll__headline-line">{{ section.settings.top_heading_line_1 }}</span>
            {%- endif -%}
            {%- if section.settings.top_heading_line_2 != blank -%}
              <span class="workouts-scroll__headline-line">{{ section.settings.top_heading_line_2 }}</span>
            {%- endif -%}
          </div>
        {%- endif -%}

        {%- if section.settings.bottom_heading_line_1 != blank or section.settings.bottom_heading_line_2 != blank -%}
          <div class="workouts-scroll__headline workouts-scroll__headline--bottom {{ section.settings.heading_size }}">
            {%- if section.settings.bottom_heading_line_1 != blank -%}
              <span class="workouts-scroll__headline-line">{{ section.settings.bottom_heading_line_1 }}</span>
            {%- endif -%}
            {%- if section.settings.bottom_heading_line_2 != blank -%}
              <span class="workouts-scroll__headline-line">{{ section.settings.bottom_heading_line_2 }}</span>
            {%- endif -%}
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Workouts scroll",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "video",
      "id": "video",
      "label": "Video"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image (fallback)"
    },
    {
      "type": "header",
      "content": "Headlines"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading size",
      "options": [
        { "value": "h0", "label": "Large" },
        { "value": "h1", "label": "Medium" },
        { "value": "h2", "label": "Small" }
      ],
      "default": "h0"
    },
    {
      "type": "text",
      "id": "top_heading_line_1",
      "label": "Top heading line 1",
      "default": "FOLLOW"
    },
    {
      "type": "text",
      "id": "top_heading_line_2",
      "label": "Top heading line 2",
      "default": "THE MARK"
    },
    {
      "type": "text",
      "id": "bottom_heading_line_1",
      "label": "Bottom heading line 1",
      "default": "LEAVE"
    },
    {
      "type": "text",
      "id": "bottom_heading_line_2",
      "label": "Bottom heading line 2",
      "default": "YOURS"
    },
    {
      "type": "header",
      "content": "Motion"
    },
    {
      "type": "range",
      "id": "scroll_height",
      "label": "Scroll length (vh)",
      "min": 120,
      "max": 320,
      "step": 10,
      "unit": "vh",
      "default": 220
    },
    {
      "type": "range",
      "id": "min_scale",
      "label": "Start size (scale %)",
      "min": 20,
      "max": 80,
      "step": 5,
      "unit": "%",
      "default": 35
    },
    {
      "type": "range",
      "id": "start_radius",
      "label": "Start corner radius (px)",
      "min": 0,
      "max": 48,
      "step": 2,
      "unit": "px",
      "default": 18
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "scheme-1"
    }
  ],
  "presets": [
    {
      "name": "Workouts scroll",
      "category": "MOVE"
    }
  ]
}
{% endschema %}
