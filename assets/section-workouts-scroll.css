.workouts-scroll {
  /* JS will set these CSS vars per scroll frame */
  --workouts-scroll-progress: 0;
  --workouts-scroll-frame-w: 360px;
  --workouts-scroll-frame-h: 520px;
  --workouts-scroll-radius: var(--workouts-scroll-start-radius, 18px);
  --workouts-scroll-media-zoom: 1;

  --workouts-scroll-top-x: 0px;
  --workouts-scroll-bottom-x: 0px;

  position: relative;
  width: 100%;
  overflow: clip;
  padding: 0;

  /* The overall scroll range; sticky occupies the viewport while you scroll through this section */
  height: calc(100vh + var(--workouts-scroll-scroll-height, 220vh));
}

.workouts-scroll__sticky {
  position: sticky;
  top: 0;
  height: 100vh;
  width: 100%;

  display: grid;
  place-items: center;

  /* Prevent scaled content from creating scrollbars */
  overflow: hidden;

  /* Use theme background (no hard-coded colors) */
  background: rgb(var(--color-background));
}

.workouts-scroll__media {
  position: absolute;
  inset: 0;
  z-index: 0;

  display: grid;
  place-items: center;
  pointer-events: none;
}

/* Scaled + rounded frame that expands to fullscreen. */
.workouts-scroll__frame {
  position: absolute;
  left: 50%;
  top: 50%;

  width: var(--workouts-scroll-frame-w);
  height: var(--workouts-scroll-frame-h);

  transform: translate(-50%, -50%);
  will-change: width, height, border-radius;

  border-radius: var(--workouts-scroll-radius);
  overflow: hidden;

  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.22);
}

.workouts-scroll__video,
.workouts-scroll__image,
.workouts-scroll__placeholder {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
  display: block;

  position: relative;
  z-index: 0;

  transform: scale(var(--workouts-scroll-media-zoom));
  transform-origin: center;
  will-change: transform;
}

/* Big headlines: NOT clipped by the expanding frame. */
.workouts-scroll__headlines {
  position: absolute;
  inset: 0;
  z-index: 2;
  pointer-events: none;
}

.workouts-scroll__headline {
  position: absolute;
  color: rgb(var(--color-foreground));
  line-height: 1;
}

.workouts-scroll__headline-line {
  display: block;
}

.workouts-scroll__headline--top {
  top: clamp(2.4rem, 6vh, 6.8rem);
  left: clamp(1.6rem, 5vw, 6rem);
  transform: translateX(var(--workouts-scroll-top-x));
  will-change: transform;
}

.workouts-scroll__headline--bottom {
  bottom: clamp(2.4rem, 7vh, 8rem);
  right: clamp(1.6rem, 5vw, 6rem);
  text-align: right;
  transform: translateX(var(--workouts-scroll-bottom-x));
  will-change: transform;
}

@media (prefers-reduced-motion: reduce) {
  .workouts-scroll {
    height: auto;
  }

  .workouts-scroll__sticky {
    position: relative;
    height: auto;
    min-height: 100vh;
  }

  .workouts-scroll__frame {
    left: 0;
    top: 0;
    width: 100%;
    height: 100vh;
    transform: none;
    border-radius: 0;
  }

  .workouts-scroll__video,
  .workouts-scroll__placeholder {
    transform: none;
  }

  .workouts-scroll__headline--top,
  .workouts-scroll__headline--bottom {
    transform: none;
  }
}
